<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cheat Reseller Panel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #111;
      color: white;
    }
    .container {
      max-width: 400px;
      margin: 5% auto;
      background-color: #222;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px #444;
    }
    h2 {
      text-align: center;
    }
    input[type="text"], input[type="password"] {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background: #333;
      border: none;
      border-radius: 5px;
      color: white;
    }
    button {
      width: 100%;
      padding: 10px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 10px 0;
    }
    .link-button {
      background: none;
      color: #aaa;
      text-align: center;
      border: none;
      display: block;
      margin: 5px auto;
      cursor: pointer;
    }
    #admin-login-link {
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 12px;
      cursor: pointer;
      text-decoration: underline;
      color: #aaa;
    }
    .hidden {
      display: none;
    }
    .panel {
      padding: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #444;
      padding: 8px;
      text-align: left;
    }
  </style>
</head>
<body>
<div class="container" id="auth-container">
  <h2>Login / Sign Up</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="signup()">Sign Up</button>
  <button onclick="login()">Login</button>
</div>

<div class="panel hidden" id="reseller-panel">
  <h2>Reseller Panel</h2>
  <p>Welcome, <span id="reseller-user"></span>!</p>
  <h3>Products</h3>
  <ul>
    <li>Nexus <button onclick="buy('Nexus')">Buy</button></li>
    <li>Nexus Lite <button onclick="buy('Nexus Lite')">Buy</button></li>
    <li>Striker <button onclick="buy('Striker')">Buy</button></li>
    <li>More coming soon...</li>
  </ul>
</div>

<div class="panel hidden" id="admin-panel">
  <h2>Admin Panel</h2>
  <h3>Keys</h3>
  <table id="keys-table">
    <thead>
      <tr><th>Product</th><th>Key</th><th>Duration</th></tr>
    </thead>
    <tbody></tbody>
  </table>
  <input type="text" id="product" placeholder="Product">
  <input type="text" id="key" placeholder="Key">
  <input type="text" id="duration" placeholder="Duration (days/weeks/months)">
  <button onclick="addKey()">Add Key</button>
  <h3>Users</h3>
  <ul id="user-list"></ul>
</div>

<span id="admin-login-link" onclick="adminLoginPrompt()">Admin Login</span>

<script>
  const productBuyURL = "https://dexorapanel.mysellauth.com/";

  function saveToLocal(key, value) {
    localStorage.setItem(key, JSON.stringify(value));
  }

  function getFromLocal(key) {
    return JSON.parse(localStorage.getItem(key) || "null");
  }

  function signup() {
    const users = getFromLocal('users') || {};
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if (users[user]) return alert("User already exists!");
    users[user] = { password: pass };
    saveToLocal('users', users);
    alert("Signed up successfully! Please log in.");
  }

  function login() {
    const users = getFromLocal('users') || {};
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if (users[user]?.password === pass) {
      document.getElementById('auth-container').classList.add('hidden');
      document.getElementById('reseller-user').textContent = user;
      document.getElementById('reseller-panel').classList.remove('hidden');
    } else {
      alert("Invalid credentials!");
    }
  }

  function adminLoginPrompt() {
    const pass = prompt("Enter admin password:");
    if (pass === "admin123") { // change to secure
      document.getElementById('auth-container').classList.add('hidden');
      document.getElementById('admin-panel').classList.remove('hidden');
      loadKeys();
      loadUsers();
    } else {
      alert("Incorrect password.");
    }
  }

  function buy(product) {
    window.open(productBuyURL + "?product=" + encodeURIComponent(product));
  }

  function addKey() {
    const table = document.getElementById('keys-table').querySelector('tbody');
    const product = document.getElementById('product').value;
    const key = document.getElementById('key').value;
    const duration = document.getElementById('duration').value;
    const row = `<tr><td>${product}</td><td>${key}</td><td>${duration}</td></tr>`;
    table.innerHTML += row;
    const keys = getFromLocal('keys') || [];
    keys.push({ product, key, duration });
    saveToLocal('keys', keys);
  }

  function loadKeys() {
    const table = document.getElementById('keys-table').querySelector('tbody');
    table.innerHTML = "";
    const keys = getFromLocal('keys') || [];
    keys.forEach(k => {
      table.innerHTML += `<tr><td>${k.product}</td><td>${k.key}</td><td>${k.duration}</td></tr>`;
    });
  }

  function loadUsers() {
    const users = getFromLocal('users') || {};
    const userList = document.getElementById('user-list');
    userList.innerHTML = "";
    for (const user in users) {
      userList.innerHTML += `<li>${user}</li>`;
    }
  }
</script>
</body>
</html>
